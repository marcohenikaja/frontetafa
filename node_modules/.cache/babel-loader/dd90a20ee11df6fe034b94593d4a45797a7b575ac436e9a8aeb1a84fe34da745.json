{"ast":null,"code":"import _regeneratorRuntime from\"E:/react_mongodb/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"E:/react_mongodb/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"E:/react_mongodb/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from'react';import{Navbar,Nav,Container,Form}from'react-bootstrap';import{NavLink}from'react-router-dom';import{useEffect}from'react';import{ToastContainer,toast}from'react-toastify';import Deconnexion from'./Deconnexion';import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";var userId=sessionStorage.getItem('userId');var username=sessionStorage.getItem('username');var Navbare=function Navbare(){var _useState=useState(null),_useState2=_slicedToArray(_useState,2),sessionData=_useState2[0],setSessionData=_useState2[1];useEffect(function(){var isAuthenticated=sessionStorage.getItem(\"userId\")!==null;if(!isAuthenticated){window.location.href='./Login';}},[]);var handleClick=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var username;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:username=sessionStorage.getItem('username');if(!username){_context.next=16;break;}_context.prev=2;_context.next=5;return sessionStorage.removeItem('userId');case 5:_context.next=7;return sessionStorage.removeItem('username');case 7:_context.next=9;return sessionStorage.clear();case 9:setTimeout(function(){var clearedUsername=sessionStorage.getItem('username');if(!clearedUsername){toast.success(\"Vous êtes déconnecté \",{position:\"top-center\",autoClose:2000,hideProgressBar:false,closeOnClick:true,pauseOnHover:true,draggable:true,progress:undefined,theme:\"light\"});window.location.href=\"./Login\";}else{toast.error(\"Problème de déconnexion ppp\",{position:\"top-center\",autoClose:2000,hideProgressBar:false,closeOnClick:true,pauseOnHover:true,draggable:true,progress:undefined,theme:\"light\"});}},100);_context.next=16;break;case 12:_context.prev=12;_context.t0=_context[\"catch\"](2);console.log(_context.t0);toast.error(\"Erreur lors de la déconnexion\",{position:\"top-center\",autoClose:2000,hideProgressBar:false,closeOnClick:true,pauseOnHover:true,draggable:true,progress:undefined,theme:\"light\"});case 16:case\"end\":return _context.stop();}},_callee,null,[[2,12]]);}));return function handleClick(){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Navbar,{bg:\"light\",expand:\"lg\",fixed:\"top\",children:/*#__PURE__*/_jsxs(Container,{children:[/*#__PURE__*/_jsxs(Navbar.Brand,{href:\"#\",style:{color:'blue',fontSize:'40px',marginRight:'600px'},children:[\"E-Tafa  \",username]}),/*#__PURE__*/_jsx(Navbar.Toggle,{\"aria-controls\":\"basic-navbar-nav\"}),/*#__PURE__*/_jsx(Navbar.Collapse,{id:\"basic-navbar-nav\",children:/*#__PURE__*/_jsxs(Nav,{className:\"me-auto\",children:[/*#__PURE__*/_jsx(NavLink,{to:\"/accueil\",style:{color:'black',fontSize:'20px',textDecoration:'none',borderBottom:'none',marginRight:'35px'},children:\"Accueil\"}),/*#__PURE__*/_jsx(NavLink,{to:\"/message\",style:{color:'black',fontSize:'20px',textDecoration:'none',borderBottom:'none',marginRight:'35px'},children:\"Message\"}),/*#__PURE__*/_jsx(NavLink,{to:\"/contact\",style:{color:'black',fontSize:'20px',textDecoration:'none',borderBottom:'none',marginRight:'35px'},children:\"Contact\"}),/*#__PURE__*/_jsx(NavLink,{to:\"/about\",style:{color:'black',fontSize:'20px',textDecoration:'none',borderBottom:'none',marginRight:'35px'},children:\"A propos\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleClick,children:\"D\\xE9connexion\"})]})})]})}),/*#__PURE__*/_jsx(ToastContainer,{})]});};export default Navbare;","map":{"version":3,"names":["React","useState","Navbar","Nav","Container","Form","NavLink","useEffect","ToastContainer","toast","Deconnexion","jsxs","_jsxs","jsx","_jsx","userId","sessionStorage","getItem","username","Navbare","_useState","_useState2","_slicedToArray","sessionData","setSessionData","isAuthenticated","window","location","href","handleClick","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_callee$","_context","prev","next","removeItem","clear","setTimeout","clearedUsername","success","position","autoClose","hideProgressBar","closeOnClick","pauseOnHover","draggable","progress","undefined","theme","error","t0","console","log","stop","apply","arguments","children","bg","expand","fixed","Brand","style","color","fontSize","marginRight","Toggle","Collapse","id","className","to","textDecoration","borderBottom","onClick"],"sources":["E:/react_mongodb/frontend/src/pages/Navbare.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { Navbar, Nav, Container, Form } from 'react-bootstrap';\r\nimport { NavLink } from 'react-router-dom';\r\nimport { useEffect } from 'react';\r\nimport { ToastContainer, toast } from 'react-toastify';\r\nimport Deconnexion from './Deconnexion';\r\n\r\n\r\n\r\nconst userId = sessionStorage.getItem('userId');\r\nconst username = sessionStorage.getItem('username');\r\n\r\nconst Navbare = () => {\r\n  const [sessionData, setSessionData] = useState(null);\r\n\r\n  useEffect(() => {\r\n\r\n    const isAuthenticated = sessionStorage.getItem(\"userId\") !== null;\r\n\r\n    if (!isAuthenticated) {\r\n      window.location.href = './Login';\r\n    }\r\n  }, []);\r\n\r\n\r\n  const handleClick = async () => {\r\n    const username = sessionStorage.getItem('username');\r\n  \r\n    if (username) {\r\n      try {\r\n        await sessionStorage.removeItem('userId');\r\n        await sessionStorage.removeItem('username');\r\n        await sessionStorage.clear();\r\n  \r\n        setTimeout(() => {\r\n          const clearedUsername = sessionStorage.getItem('username');\r\n          if (!clearedUsername) {\r\n            toast.success(\"Vous êtes déconnecté \", {\r\n              position: \"top-center\",\r\n              autoClose: 2000,\r\n              hideProgressBar: false,\r\n              closeOnClick: true,\r\n              pauseOnHover: true,\r\n              draggable: true,\r\n              progress: undefined,\r\n              theme: \"light\",\r\n            });\r\n            window.location.href = \"./Login\";\r\n          } else {\r\n            toast.error(\"Problème de déconnexion ppp\", {\r\n              position: \"top-center\",\r\n              autoClose: 2000,\r\n              hideProgressBar: false,\r\n              closeOnClick: true,\r\n              pauseOnHover: true,\r\n              draggable: true,\r\n              progress: undefined,\r\n              theme: \"light\",\r\n            });\r\n          }\r\n        }, 100);\r\n      } catch (error) {\r\n        console.log(error);\r\n        toast.error(\"Erreur lors de la déconnexion\", {\r\n          position: \"top-center\",\r\n          autoClose: 2000,\r\n          hideProgressBar: false,\r\n          closeOnClick: true,\r\n          pauseOnHover: true,\r\n          draggable: true,\r\n          progress: undefined,\r\n          theme: \"light\",\r\n        });\r\n      }\r\n    }\r\n  };\r\n  \r\n\r\n\r\n\r\n\r\n\r\n  return (\r\n    <div>\r\n\r\n      <Navbar bg=\"light\" expand=\"lg\" fixed=\"top\">\r\n        <Container>\r\n          <Navbar.Brand href=\"#\" style={{ color: 'blue', fontSize: '40px', marginRight: '600px' }}>\r\n            E-Tafa  {username}\r\n          </Navbar.Brand>\r\n\r\n          <Navbar.Toggle aria-controls=\"basic-navbar-nav\" />\r\n          <Navbar.Collapse id=\"basic-navbar-nav\">\r\n            <Nav className=\"me-auto\">\r\n              <NavLink\r\n                to=\"/accueil\"\r\n                style={{ color: 'black', fontSize: '20px', textDecoration: 'none', borderBottom: 'none', marginRight: '35px' }}\r\n              >\r\n                Accueil\r\n              </NavLink>\r\n              <NavLink\r\n                to=\"/message\"\r\n                style={{ color: 'black', fontSize: '20px', textDecoration: 'none', borderBottom: 'none', marginRight: '35px' }}\r\n              >\r\n                Message\r\n              </NavLink>\r\n              <NavLink\r\n                to=\"/contact\"\r\n                style={{ color: 'black', fontSize: '20px', textDecoration: 'none', borderBottom: 'none', marginRight: '35px' }}\r\n              >\r\n                Contact\r\n              </NavLink>\r\n              <NavLink\r\n                to=\"/about\"\r\n                style={{ color: 'black', fontSize: '20px', textDecoration: 'none', borderBottom: 'none', marginRight: '35px' }}\r\n              >\r\n                A propos\r\n              </NavLink>\r\n\r\n              <button onClick={handleClick}>Déconnexion</button>\r\n            </Nav>\r\n          </Navbar.Collapse>\r\n        </Container>\r\n      </Navbar>\r\n\r\n\r\n      <ToastContainer />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Navbare;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}